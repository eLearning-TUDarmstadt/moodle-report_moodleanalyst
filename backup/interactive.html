<!DOCTYPE html>
<html>
	<head>
		<title>Moodle AnalyST</title>
		<meta charset="UTF-8">
		<base target="_blank">
		<!-- Include CSS theme -->
		<link rel="stylesheet" href="../../report/moodleanalyst/css/jquery-ui-1.10.4.css" />

		<!-- Include jQuery -->
		<script src="../../report/moodleanalyst/js/jquery-1.10.2.js"></script>
		<script src="../../report/moodleanalyst/js/jquery-ui.js"></script>

		<!-- Include Bootstrap -->
		<link rel="stylesheet" href="../../report/moodleanalyst/css/bootstrap.min.css" />

		<!-- Optional theme -->
		<link rel="stylesheet" href="../../report/moodleanalyst/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="../../report/moodleanalyst/jtable/themes/metro/lightgray/jtable.min.css">
		<link rel="stylesheet" href="../../report/moodleanalyst/jtable/themes/metro/darkorange/jtable.min.css" type="text/css" />

		<!-- Include one of jTable script file -->
		<script src="../../report/moodleanalyst/jtable/jquery.jtable.min.js" type="text/javascript"></script>

		<!-- Include jTable style -->
		<link rel="stylesheet" href="../../report/moodleanalyst/jtable/themes/metro/darkorange/jtable.min.css" type="text/css" />

		<!-- Page Foundation -->
		<script type="text/javascript">
			$(document).ready(function() {

				//
				// Kurse: Supporter Tool einbinden
				//
				$.get("../../report/moodleanalyst/template.html", function(inhalt) {
					$("#supporter").html(inhalt);
				});
				/*
				//
				// Dateien
				//
				$('#dateien').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Dateien?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						folder : {
							title : 'Ordner',
							width : '5%'
						},
						resource : {
							title : 'Dateien',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

				//
				// Kommunikation
				//
				$('#kommunikation').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Kommunikation?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						forum : {
							title : 'Foren',
							width : '5%'
						},
						chat : {
							title : 'Chats',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

				//
				// Tests
				//
				$('#tests').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Tests?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						quiz : {
							title : 'E-Tests',
							width : '5%'
						},
						assign : {
							title : 'Aufgaben',
							width : '5%'
						},
						hotpot : {
							title : 'HotPot',
							width : '5%'
						},
						lesson : {
							title : 'Lektionen',
							width : '5%'
						},
						games : {
							title : 'Spiele',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

				//
				// Kooperation
				//
				$('#koop').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Kooperation?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						wiki : {
							title : 'Wikis',
							width : '5%'
						},
						data : {
							title : 'Datenbanken',
							width : '5%'
						},
						glossary : {
							title : 'Glossare',
							width : '5%'
						},
						workshop : {
							title : 'Workshop',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

				//
				// RÃ¼ckmeldungen
				//
				$('#rueckmeldungen').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Rueckmeldungen?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						choice : {
							title : 'Abstimmung',
							width : '5%'
						},
						feedback : {
							title : 'Feedback',
							width : '5%'
						},
						hotquestion : {
							title : 'Nachgefragt',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

				//
				// Lehrorganisation
				//
				$('#lehrorganisation').jtable({
					selecting : true,
					sorting : true,
					defaultSorting : 'course ASC',
					actions : {
						listAction : function(postData, jtParams) {
							return $.Deferred(function($dfd) {
								$.ajax({
									url : '../../report/moodleanalyst/rest/router.php/Lehrorganisation?jtSorting=' + jtParams.jtSorting,
									type : 'POST',
									dataType : 'json',
									data : postData,
									success : function(data) {
										$dfd.resolve(data);
									},
									error : function() {
										$dfd.reject();
									}
								});
							});
						}
					},
					fields : {
						course : {
							title : 'Kurs',
							key : true,
							list : true,
							width : '5%'
						},
						semester : {
							title : 'Semester',
							width : '10%',
							display : function(data) {
								if (!data.record.semester) {
									data.record.semester = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
							}
						},
						fb : {
							title : 'FB',
							width : '10%',
							display : function(data) {
								if (!data.record.fb) {
									data.record.fb = '-';
								}
								return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
							}
						},
						fullname : {
							title : 'Name',
							width : '20%',
							display : function(data) {
								return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
							}
						},
						participants : {
							title : 'Teilnehmer',
							width : '5%',
							display : function(data) {
								return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
							}
						},
						gruppen : {
							title : 'Gruppen',
							width : '5%'
						},
						timecreated : {
							title : 'Erstellt',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						},
						timemodified : {
							title : 'GeÃ¤ndert',
							width : '5%',
							display : function(data) {
								var date = new Date(data.record.timecreated * 1000);
								var hh = date.getUTCHours();
								var mm = date.getUTCMinutes();
								var ss = date.getSeconds();

								if (hh < 10) {
									hh = "0" + hh;
								}
								if (mm < 10) {
									mm = "0" + mm;
								}
								if (ss < 10) {
									ss = "0" + ss;
								}

								var day = date.getDate();
								var month = date.getMonth() + 1;
								var year = date.getFullYear();

								if (day < 10) {
									day = "0" + day;
								}
								if (month < 10) {
									month = "0" + month;
								}

								return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
							}
						}
					}
				});

		    
    			//
		    	// Nutzer: Supporter Tool einbinden
		    	//
    			$.get("../../report/moodleanalyst/templateUser.html", function( inhalt ) {
    				$( "#supporterUser" ).html(inhalt);
				});
    		
		    
    			//
    			// Dateien
    			//
    			$('#dateien').jtable({
    	    	    selecting: true,
    	        	sorting: true,
    	        	defaultSorting: 'course ASC',
    	        	actions: {
    	        		listAction: function (postData, jtParams) {
    	        		    return $.Deferred(function ($dfd) {
    	        		        $.ajax({
    	        		            url: '../../report/moodleanalyst/rest/router.php/Dateien?jtSorting=' + jtParams.jtSorting,
    	        		            type: 'POST',
    	        		            dataType: 'json',
    	        		            data: postData,
    	        		            success: function (data) {
    	        		                $dfd.resolve(data);
    	        		            },
    	        		            error: function () {
    	        		                $dfd.reject();
    	        		            }
    	        		        });
    	        		    });
    	        		}
    	        	},
    	        	fields: {
    	        	    course: {
    	        	    	title: 'Kurs',
    	        	        key: true,
    	        	        list: true,
    	        	        width: '5%'
    	        	    },
    	        	    semester: {
    	        	    	title: 'Semester',
        	    	    	width: '10%',
            		    	display: function(data) {
            		    			if(!data.record.semester) {
            	    					data.record.semester = '-';
            	    				}
            	    				return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
            	    		}
	            	    },
    	        	    fb: {
        	    	    	title: 'FB',
            		    	width: '10%',
            		    	display: function(data) {
            	    			if(!data.record.fb) {
            						data.record.fb = '-';
            					}
	        					return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    	    				}
        	    	    },
            		    fullname: {
            		    	title: 'Name',
            	    		width: '20%',
            	    		display: function(data) {
	        					return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
    	    				}
        	        	},
            	    	participants: {
                			title: 'Teilnehmer',
                			width: '5%',
                			display: function(data) {
	        					return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
    	    				}
        	        	},
            	    	folder: {
                			title: 'Ordner',
                			width: '5%'
                		},
	                	resource: {
    	            		title: 'Dateien',
        	        		width: '5%'
            	    	},
                		timecreated: {
                			title: 'Erstellt',
                			width: '5%',
	                		display: function(data) {
    	            			var date = new Date(data.record.timecreated*1000);
        	        			var hh = date.getUTCHours();
            	    			var mm = date.getUTCMinutes();
                				var ss = date.getSeconds();
		
	    	            		if (hh < 10) {hh = "0"+hh;}
    	    	        		if (mm < 10) {mm = "0"+mm;}
        	    	    		if (ss < 10) {ss = "0"+ss;}
            	    			
                				var day = date.getDate();
                				var month = date.getMonth() + 1;
	                			var year = date.getFullYear();
    	            			
        	        			if (day < 10) {day = "0"+day;}
            	    			if (month < 10) {month = "0"+month;}
                				
                				return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
                			}	
                		},
	                	timemodified: {
    	            		title: 'GeÃƒÂ¤ndert',
        	        		width: '5%',
            	    		display: function(data) {
                				var date = new Date(data.record.timecreated*1000);
                				var hh = date.getUTCHours();
                				var mm = date.getUTCMinutes();
                				var ss = date.getSeconds();
		
		                		if (hh < 10) {hh = "0"+hh;}
	    	            		if (mm < 10) {mm = "0"+mm;}
	        	        		if (ss < 10) {ss = "0"+ss;}
	            	    		
	                			var day = date.getDate();
	                			var month = date.getMonth() + 1;
	                			var year = date.getFullYear();
		                		
		                		if (day < 10) {day = "0"+day;}
	    	            		if (month < 10) {month = "0"+month;}
	        	        		
	            	    		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
	                		}
	                	}
	            	}
		        });
    			
	    	    
        		//
    			// Kommunikation
    			//
	    		$('#kommunikation').jtable({
    	    	    selecting: true,
        		    sorting: true,
        		    defaultSorting: 'course ASC',
        	    	actions: {
	        	    	listAction: function (postData, jtParams) {
    	    	    	    return $.Deferred(function ($dfd) {
        		    	        $.ajax({
        		    	            url: '../../report/moodleanalyst/rest/router.php/Kommunikation?jtSorting=' + jtParams.jtSorting,
        	    		            type: 'POST',
        	    		            dataType: 'json',
        	    	    	        data: postData,
        	    	        	    success: function (data) {
        	    	            	    $dfd.resolve(data);
        	    	            	},
	        	    	            error: function () {
    	    	    	                $dfd.reject();
        		    	            }
        		    	        });
        	    		    });
        	    		}
        	    	},
	        	    fields: {
    	    	        course: {
        		        	title: 'Kurs',
        		            key: true,
        	    	        list: true,
        	        	    width: '5%'
        	        	},
	        	        semester: {
    	    	        	title: 'Semester',
        		        	width: '10%',
        		        	display: function(data) {
        	    	    			if(!data.record.semester) {
        	        					data.record.semester = '-';
        	        				}
        	        				return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
        	        		}
	        	        },
    	    	        fb: {
        		        	title: 'FB',
        		        	width: '10%',
        	    	    	display: function(data) {
        	        			if(!data.record.fb) {
        	    					data.record.fb = '-';
        	    				}
	        					return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    	    				}
        		        },
        		        fullname: {
        	    	    	title: 'Name',
        	        		width: '20%',
        	        		display: function(data) {
        	        			return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
    	    				}
        		        },
        		        participants: {
        	    	    	title: 'Teilnehmer',
        	        		width: '5%',
        	        		display: function(data) {
        						return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
	        				}
    	    	        },
        		        forum: {
        		        	title: 'Foren',
        	    	    	width: '5%'
        	        	},
	        	        chat: {
	        	        	title: 'Chats',
    	    	        	width: '5%'
        		        },
	        	        timecreated: {
    	    	        	title: 'Erstellt',
        		        	width: '5%',
        		        	display: function(data) {
        	    	    		var date = new Date(data.record.timecreated*1000);
        	        			var hh = date.getUTCHours();
        	        			var mm = date.getUTCMinutes();
        	        			var ss = date.getSeconds();
		
		                		if (hh < 10) {hh = "0"+hh;}
	    	            		if (mm < 10) {mm = "0"+mm;}
	        	        		if (ss < 10) {ss = "0"+ss;}
	            	    		
	                			var day = date.getDate();
	                			var month = date.getMonth() + 1;
	                			var year = date.getFullYear();
		                		
		                		if (day < 10) {day = "0"+day;}
	    	            		if (month < 10) {month = "0"+month;}
	        	        		
	            	    		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
	                		}
	                	},
		                timemodified: {
		                	title: 'GeÃƒÂ¤ndert',
	    	            	width: '5%',
	        	        	display: function(data) {
	            	    		var date = new Date(data.record.timecreated*1000);
	                			var hh = date.getUTCHours();
	                			var mm = date.getUTCMinutes();
	                			var ss = date.getSeconds();
		
		                		if (hh < 10) {hh = "0"+hh;}
	    	            		if (mm < 10) {mm = "0"+mm;}
	        	        		if (ss < 10) {ss = "0"+ss;}
		        	        		
    	            			var day = date.getDate();
        	        			var month = date.getMonth() + 1;
            	    			var year = date.getFullYear();
	                			
    	            			if (day < 10) {day = "0"+day;}
        	        			if (month < 10) {month = "0"+month;}
            	    			
	            	    		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
    	            		}
	        	        }
    	        	}
	        	});	
    		
    			//
				// Tests
				//
				$('#tests').jtable({
    			    selecting: true,
    			    sorting: true,
    			    defaultSorting: 'course ASC',
    		    	actions: {
	    		    	listAction: function (postData, jtParams) {
    			    	    return $.Deferred(function ($dfd) {
    			    	        $.ajax({
    			    	            url: '../../report/moodleanalyst/rest/router.php/Tests?jtSorting=' + jtParams.jtSorting,
    		    		            type: 'POST',
    		    		            dataType: 'json',
    		    	    	        data: postData,
    		    	        	    success: function (data) {
    		    	            	    $dfd.resolve(data);
    		    	            	},
	    		    	            error: function () {
    			    	                $dfd.reject();
    			    	            }
    			    	        });
    		    		    });
    		    		}
	    		    },
    			    fields: {
    			        course: {
    			        	title: 'Kurs',
    		    	    	key: true,
        	        		list: true,
        	        		width: '5%'
	        	    	},
    	    	    	semester: {
        		    		title: 'Semester',
        		    		width: '10%',
        	    			display: function(data) {
        	    					if(!data.record.semester) {
        	    						data.record.semester = '-';
        	    					}
        	    					return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
        	    			}
	        	    	},
    	    	    	fb: {
        		    		title: 'FB',
        		    		width: '10%',
        	    			display: function(data) {
        	    				if(!data.record.fb) {
        							data.record.fb = '-';
        						}
	    						return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    						}
        		    	},
        		    	fullname: {
        	    			title: 'Name',
        	    			width: '20%',
        	    			display: function(data) {
    							return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
	    					}
    	    	    	},
        		    	participants: {
        		    		title: 'Teilnehmer',
        	    			width: '5%',
        	    			display: function(data) {
    							return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
    						}
	        	    	},
    	    	    	quiz: {
        		    		title: 'E-Tests',
        		    		width: '5%'
        	    		},
        	    		assign: {
        	    			title: 'Aufgaben',
	        	    		width: '5%'
	        	    	},
	        	    	hotpot: {
    	    	    		title: 'HotPot',
        		    		width: '5%'
        		    	},
        	    		lesson: {
        	    			title: 'Lektionen',
        	    			width: '5%'
	        	    	},	
    	    	    	games: {
        		    		title: 'Spiele',
        		    		width: '5%'
        	    		},
        	    		timecreated: {
        	    			title: 'Erstellt',
        	    			width: '5%',
	        	    		display: function(data) {
		    	         		var date = new Date(data.record.timecreated*1000);
		    	        		var hh = date.getUTCHours();
		    	        		var mm = date.getUTCMinutes();
	    		        		var ss = date.getSeconds();
			
		    	        		if (hh < 10) {hh = "0"+hh;}
		        	    		if (mm < 10) {mm = "0"+mm;}
		            			if (ss < 10) {ss = "0"+ss;}
		            			
		            			var day = date.getDate();
			            		var month = date.getMonth() + 1;
			            		var year = date.getFullYear();
			            		
		    	        		if (day < 10) {day = "0"+day;}
		        	    		if (month < 10) {month = "0"+month;}
		            			
		            			return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
		            		}
		            	},
			            timemodified: {
			            	title: 'GeÃƒÂ¤ndert',
			            	width: '5%',
		    	        	display: function(data) {
		        	    		var date = new Date(data.record.timecreated*1000);
		            			var hh = date.getUTCHours();
		            			var mm = date.getUTCMinutes();
		            			var ss = date.getSeconds();
		
			            		if (hh < 10) {hh = "0"+hh;}
			            		if (mm < 10) {mm = "0"+mm;}
			            		if (ss < 10) {ss = "0"+ss;}
    	    	    		
    		    	    		var day = date.getDate();
    		        			var month = date.getMonth() + 1;
    		        			var year = date.getFullYear();
    		        			
	    		        		if (day < 10) {day = "0"+day;}
    			        		if (month < 10) {month = "0"+month;}
    			        		
    			        		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
    		    	    	}
		            	}
    		    	}
			    });
    			
    			//
				// Kooperation
				//
				$('#koop').jtable({
    			    selecting: true,
    			    sorting: true,
    			    defaultSorting: 'course ASC',
    		    	actions: {
	    		    	listAction: function (postData, jtParams) {
    			    	    return $.Deferred(function ($dfd) {
    			    	        $.ajax({
    			    	            url: '../../report/moodleanalyst/rest/router.php/Kooperation?jtSorting=' + jtParams.jtSorting,
    		    		            type: 'POST',
    		    		            dataType: 'json',
    		    	    	        data: postData,
    		    	        	    success: function (data) {
    		    	            	    $dfd.resolve(data);
    		    	            	},
	    		    	            error: function () {
    			    	                $dfd.reject();
    			    	            }
    			    	        });
    		    		    });
    		    		}
	    		    },
    			    fields: {
    			        course: {
    			        	title: 'Kurs',
    		    	    	key: true,
        	        		list: true,
        	        		width: '5%'
	        	    	},
    	    	    	semester: {
        		    		title: 'Semester',
        		    		width: '10%',
        	    			display: function(data) {
        	    					if(!data.record.semester) {
        	    						data.record.semester = '-';
        	    					}
        	    					return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
        	    			}
	        	    	},
    	    	    	fb: {
        		    		title: 'FB',
        		    		width: '10%',
        	    			display: function(data) {
        	    				if(!data.record.fb) {
        							data.record.fb = '-';
        						}
	    						return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    						}
        		    	},
        		    	fullname: {
        	    			title: 'Name',
        	    			width: '20%',
        	    			display: function(data) {
    							return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
	    					}
    	    	    	},
        		    	participants: {
        		    		title: 'Teilnehmer',
        	    			width: '5%',
        	    			display: function(data) {
    							return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
    						}
	        	    	},
    	    	    	wiki: {
        		    		title: 'Wikis',
        		    		width: '5%'
        	    		},
        	    		data: {
        	    			title: 'Datenbanken',
	        	    		width: '5%'
	        	    	},
	        	    	glossary: {
    	    	    		title: 'Glossare',
        		    		width: '5%'
        		    	},
        	    		workshop: {
        	    			title: 'Workshop',
        	    			width: '5%'
	        	    	},	
        	    		timecreated: {
        	    			title: 'Erstellt',
        	    			width: '5%',
	        	    		display: function(data) {
		    	         		var date = new Date(data.record.timecreated*1000);
		    	        		var hh = date.getUTCHours();
		    	        		var mm = date.getUTCMinutes();
	    		        		var ss = date.getSeconds();
			
		    	        		if (hh < 10) {hh = "0"+hh;}
		        	    		if (mm < 10) {mm = "0"+mm;}
		            			if (ss < 10) {ss = "0"+ss;}
		            			
		            			var day = date.getDate();
			            		var month = date.getMonth() + 1;
			            		var year = date.getFullYear();
			            		
		    	        		if (day < 10) {day = "0"+day;}
		        	    		if (month < 10) {month = "0"+month;}
		            			
		            			return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
		            		}
		            	},
			            timemodified: {
			            	title: 'GeÃƒÂ¤ndert',
			            	width: '5%',
		    	        	display: function(data) {
		        	    		var date = new Date(data.record.timecreated*1000);
		            			var hh = date.getUTCHours();
		            			var mm = date.getUTCMinutes();
		            			var ss = date.getSeconds();
		
			            		if (hh < 10) {hh = "0"+hh;}
			            		if (mm < 10) {mm = "0"+mm;}
			            		if (ss < 10) {ss = "0"+ss;}
    	    	    		
    		    	    		var day = date.getDate();
    		        			var month = date.getMonth() + 1;
    		        			var year = date.getFullYear();
    		        			
	    		        		if (day < 10) {day = "0"+day;}
    			        		if (month < 10) {month = "0"+month;}
    			        		
    			        		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
    		    	    	}
		            	}
    		    	}
			    });
    			
    			//
				// RÃƒÂ¼ckmeldungen
				//
				$('#rueckmeldungen').jtable({
    			    selecting: true,
    			    sorting: true,
    			    defaultSorting: 'course ASC',
    		    	actions: {
	    		    	listAction: function (postData, jtParams) {
    			    	    return $.Deferred(function ($dfd) {
    			    	        $.ajax({
    			    	            url: '../../report/moodleanalyst/rest/router.php/Rueckmeldungen?jtSorting=' + jtParams.jtSorting,
    		    		            type: 'POST',
    		    		            dataType: 'json',
    		    	    	        data: postData,
    		    	        	    success: function (data) {
    		    	            	    $dfd.resolve(data);
    		    	            	},
	    		    	            error: function () {
    			    	                $dfd.reject();
    			    	            }
    			    	        });
    		    		    });
    		    		}
	    		    },
    			    fields: {
    			        course: {
    			        	title: 'Kurs',
    		    	    	key: true,
        	        		list: true,
        	        		width: '5%'
	        	    	},
    	    	    	semester: {
        		    		title: 'Semester',
        		    		width: '10%',
        	    			display: function(data) {
        	    					if(!data.record.semester) {
        	    						data.record.semester = '-';
        	    					}
        	    					return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
        	    			}
	        	    	},
    	    	    	fb: {
        		    		title: 'FB',
        		    		width: '10%',
        	    			display: function(data) {
        	    				if(!data.record.fb) {
        							data.record.fb = '-';
        						}
	    						return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    						}
        		    	},
        		    	fullname: {
        	    			title: 'Name',
        	    			width: '20%',
        	    			display: function(data) {
    							return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
	    					}
    	    	    	},
        		    	participants: {
        		    		title: 'Teilnehmer',
        	    			width: '5%',
        	    			display: function(data) {
    							return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
    						}
	        	    	},
    	    	    	choice: {
        		    		title: 'Abstimmung',
        		    		width: '5%'
        	    		},
        	    		feedback: {
        	    			title: 'Feedback',
	        	    		width: '5%'
	        	    	},
	        	    	hotquestion: {
    	    	    		title: 'Nachgefragt',
        		    		width: '5%'
        		    	},
        	    		timecreated: {
        	    			title: 'Erstellt',
        	    			width: '5%',
	        	    		display: function(data) {
		    	         		var date = new Date(data.record.timecreated*1000);
		    	        		var hh = date.getUTCHours();
		    	        		var mm = date.getUTCMinutes();
	    		        		var ss = date.getSeconds();
			
		    	        		if (hh < 10) {hh = "0"+hh;}
		        	    		if (mm < 10) {mm = "0"+mm;}
		            			if (ss < 10) {ss = "0"+ss;}
		            			
		            			var day = date.getDate();
			            		var month = date.getMonth() + 1;
			            		var year = date.getFullYear();
			            		
		    	        		if (day < 10) {day = "0"+day;}
		        	    		if (month < 10) {month = "0"+month;}
		            			
		            			return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
		            		}
		            	},
			            timemodified: {
			            	title: 'GeÃƒÂ¤ndert',
			            	width: '5%',
		    	        	display: function(data) {
		        	    		var date = new Date(data.record.timecreated*1000);
		            			var hh = date.getUTCHours();
		            			var mm = date.getUTCMinutes();
		            			var ss = date.getSeconds();
		
			            		if (hh < 10) {hh = "0"+hh;}
			            		if (mm < 10) {mm = "0"+mm;}
			            		if (ss < 10) {ss = "0"+ss;}
    	    	    		
    		    	    		var day = date.getDate();
    		        			var month = date.getMonth() + 1;
    		        			var year = date.getFullYear();
    		        			
	    		        		if (day < 10) {day = "0"+day;}
    			        		if (month < 10) {month = "0"+month;}
    			        		
    			        		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
    		    	    	}
		            	}
    		    	}
			    });
    			
    			
    			//
				// Lehrorganisation
				//
				$('#lehrorganisation').jtable({
    			    selecting: true,
    			    sorting: true,
    			    defaultSorting: 'course ASC',
    		    	actions: {
	    		    	listAction: function (postData, jtParams) {
    			    	    return $.Deferred(function ($dfd) {
    			    	        $.ajax({
    			    	            url: '../../report/moodleanalyst/rest/router.php/Lehrorganisation?jtSorting=' + jtParams.jtSorting,
    		    		            type: 'POST',
    		    		            dataType: 'json',
    		    	    	        data: postData,
    		    	        	    success: function (data) {
    		    	            	    $dfd.resolve(data);
    		    	            	},
	    		    	            error: function () {
    			    	                $dfd.reject();
    			    	            }
    			    	        });
    		    		    });
    		    		}
	    		    },
    			    fields: {
    			        course: {
    			        	title: 'Kurs',
    		    	    	key: true,
        	        		list: true,
        	        		width: '5%'
	        	    	},
    	    	    	semester: {
        		    		title: 'Semester',
        		    		width: '10%',
        	    			display: function(data) {
        	    					if(!data.record.semester) {
        	    						data.record.semester = '-';
        	    					}
        	    					return "<a href='../../course/index.php?categoryid=" + data.record.semesterid + "'>" + data.record.semester + "</a>";
        	    			}
	        	    	},
    	    	    	fb: {
        		    		title: 'FB',
        		    		width: '10%',
        	    			display: function(data) {
        	    				if(!data.record.fb) {
        							data.record.fb = '-';
        						}
	    						return "<a href='../../course/index.php?categoryid=" + data.record.fbid + "'>" + data.record.fb + "</a>";
    						}
        		    	},
        		    	fullname: {
        	    			title: 'Name',
        	    			width: '20%',
        	    			display: function(data) {
    							return "<a href='../../course/view.php?id=" + data.record.course + "'>" + data.record.fullname + "</a>";
	    					}
    	    	    	},
        		    	participants: {
        		    		title: 'Teilnehmer',
        	    			width: '5%',
        	    			display: function(data) {
    							return "<a href='../../enrol/users.php?id=" + data.record.course + "'>" + data.record.participants + "</a>";
    						}
	        	    	},
    	    	    	gruppen: {
        		    		title: 'Gruppen',
        		    		width: '5%'
        	    		},
        	    		timecreated: {
        	    			title: 'Erstellt',
        	    			width: '5%',
	        	    		display: function(data) {
		    	         		var date = new Date(data.record.timecreated*1000);
		    	        		var hh = date.getUTCHours();
		    	        		var mm = date.getUTCMinutes();
	    		        		var ss = date.getSeconds();
			
		    	        		if (hh < 10) {hh = "0"+hh;}
		        	    		if (mm < 10) {mm = "0"+mm;}
		            			if (ss < 10) {ss = "0"+ss;}
		            			
		            			var day = date.getDate();
			            		var month = date.getMonth() + 1;
			            		var year = date.getFullYear();
			            		
		    	        		if (day < 10) {day = "0"+day;}
		        	    		if (month < 10) {month = "0"+month;}
		            			
		            			return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
		            		}
		            	},
			            timemodified: {
			            	title: 'GeÃƒÂ¤ndert',
			            	width: '5%',
		    	        	display: function(data) {
		        	    		var date = new Date(data.record.timecreated*1000);
		            			var hh = date.getUTCHours();
		            			var mm = date.getUTCMinutes();
		            			var ss = date.getSeconds();
		
			            		if (hh < 10) {hh = "0"+hh;}
			            		if (mm < 10) {mm = "0"+mm;}
			            		if (ss < 10) {ss = "0"+ss;}
    	    	    		
    		    	    		var day = date.getDate();
    		        			var month = date.getMonth() + 1;
    		        			var year = date.getFullYear();
    		        			
	    		        		if (day < 10) {day = "0"+day;}
    			        		if (month < 10) {month = "0"+month;}
    			        		
    			        		return day + "." + month + "." + year + " " + hh + ":" + mm + ":" + ss;
    		    	    	}
		            	}
    		    	}
			    });
				$('#dateien').jtable('load');
				$('#rueckmeldungen').jtable('load');
				$('#tests').jtable('load');
				$('#koop').jtable('load');
				$('#kommunikation').jtable('load');
				$('#lehrorganisation').jtable('load');
				*/
				jQuery(document.body).on('click', '.jtable-data-row', function() {
					$("#tabs").tabs({
						active : 0
					});
				});		
        		jQuery(document.body).on('click', '.jtable-data-row', function() {
        			var curTab = $(".ui-tabs-active");
        			var curTabIndex = curTab.index();
        			//alert(curTabIndex);
        			if (curTabIndex == 8) {
        				$("#tabs").tabs({active: 8});
        			}
        			else {
        				$("#tabs").tabs({active: 0});
        			}
    			});
			});
		</script>
	</head>

	<body>
		<script>
			$(function() {
				$("#tabs").tabs();
			});
		</script>

		<div id="tabs">
			<ul>
				<li>
					<a href="#tabs-1">Kurse</a>
				</li>
				<li>
					<a href="#tabs-stats">Statistiken</a>
				<li>
					<a id="linkDateien" href="#tabs-2">Dateien</a>
				</li>
				<li>
					<a id="linkKommunikation" href="#tabs-3">Kommunikation</a>
				</li>
				<li>
					<a id="linkTests" href="#tabs-4">(Selbst-ÃœberprÃ¼fung)</a>
				</li>
				<li>
					<a id="linkKooperation" href="#tabs-5">Kooperation</a>
				</li>
				<li>
					<a id="linkLehrorganisation" href="#tabs-6">Lehrorganisation</a>
				</li>
				<li>
					<a id="linkRueckmeldungen" href="#tabs-7">RÃ¼ckmeldungen</a>
				</li>
				<li><a href="#tabs-1">Kurse</a></li>
				<li><a href="#tabs-stats">Statistiken</a>
		    	<li><a id="linkDateien" href="#tabs-2">Dateien</a></li>
		    	<li><a id="linkKommunikation" href="#tabs-3">Kommunikation</a></li>
		    	<li><a id="linkTests" href="#tabs-4">(Selbst-ÃƒÅ“berprÃƒÂ¼fung)</a></li>
		    	<li><a id="linkKooperation" href="#tabs-5">Kooperation</a></li>
		    	<li><a id="linkLehrorganisation" href="#tabs-6">Lehrorganisation</a></li>
				<li><a id="linkRueckmeldungen" href="#tabs-7">RÃƒÂ¼ckmeldungen</a></li>
				<li><a href="#tabs-8">Nutzer/innen</a></li>
			</ul>
			<div id="tabs-1">
				<div id="supporter"></div>
			</div>
			<div id="tabs-2">
				<div id="dateien"></div>
			</div>
			<div id="tabs-3">
				<div id="kommunikation"></div>
			</div>
			<div id="tabs-4">
				<div id="tests"></div>
			</div>
			<div id="tabs-5">
				<div id="koop"></div>
			</div>
			<div id="tabs-6">
				<div id="lehrorganisation"></div>
			</div>
			<div id="tabs-7">
				<div id="rueckmeldungen"></div>
			</div>
			<div id="tabs-8">
				<div id="supporterUser"></div>
			</div>
			<div id="tabs-stats">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3>Seite</h3>
					</div>
					<div class="panel-body">
						<script type="text/javascript" src="https://www.google.com/jsapi"></script>
						<script type="text/javascript">
							// Load the Visualization API and the piechart package.
							google.load('visualization', '1.0', {
								'packages' : ['corechart']
							});

							// Set a callback to run when the Google Visualization API is loaded.
							google.setOnLoadCallback($.ajax({
								url : "/report/moodleanalyst/rest/router.php/Category",
								dataType : 'json',
							}).done(function(data) {
								drawChart(data);
							}));

							// Callback that creates and populates a data table,
							// instantiates the pie chart, passes in the data and
							// draws it.
							function drawChart(jsondata) {
								/*
								var data = google.visualization.arrayToDataTable([
									['Semester', 'Manuell', 'Schnittstelle', {
									role : 'annotation'}], 
									['2010', 10, 24, 20, 32, 18, 5, ''],
									['2020', 16, 22, 23, 30, 16, 9, ''],
									['2030', 28, 19, 29, 30, 12, 13, '']
									]);

								// Create the data table.
								var data = new google.visualization.DataTable();
								data.addColumn('string', 'Topping');
								data.addColumn('number', 'Slices');
								//var rows =
								*/
								var array = new Array();
								array.push(new Array('Semester', 'Manuell', 'Schnittstelle')); //, {role : 'annotation'}
								var cats = jsondata.subcategories;

								jQuery.each(cats, function() {
									name = this.name;
									manuell = parseInt(this.manuell);
									schnittstelle = parseInt(this.schnittstelle);
									array.push(new Array(name, manuell, schnittstelle));
									/*
									var array = new Array(name, kursegesamt);
									console.log(array);
									//array.push(new Array(name, kursegesamt));
									data.addRow(array);
									*/
								});
								
								var data = google.visualization.arrayToDataTable(array);
								//console.log(array);

								//data.addRows(array);
								/*
								data.addRows([
								['Mushrooms', 3],
								['Onions', 1],
								['Olives', 1],
								['Zucchini', 1],
								['Pepperoni', 2]
								]);
								*/
								// Set chart options
								var options = {
									width : 600,
									height : 600,
									/*
									legend : {
										position : 'top',
										maxLines : 10
									},
									bar : {
										//groupWidth : '30%'
									},
									*/
									hAxis : {
										//direction: -1
										//title: 'Semester',
										slantedText: true,
										slantedTextAngle: 90
									},
									isStacked : true,
									
								};
								// Instantiate and draw our chart, passing in some options.
								var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
								chart.draw(data, options);
							}
						</script>
						<div id='chart_div'></div>
					<script type="text/javascript" src="https://www.google.com/jsapi"></script>
				    <script type="text/javascript">
				
				      // Load the Visualization API and the piechart package.
				      google.load('visualization', '1.0', {'packages':['corechart']});
				
				      // Set a callback to run when the Google Visualization API is loaded.
				      google.setOnLoadCallback(
				    		  $.ajax({
				    			  url: "../../report/moodleanalyst/rest/router.php/Category",
				    			  dataType: 'json',
				    			}).done(function(data) {
				    			  drawChart(data);
				    			})
				      );
				
				      // Callback that creates and populates a data table,
				      // instantiates the pie chart, passes in the data and
				      // draws it.
				      function drawChart(jsondata) {
						
				        // Create the data table.
				        var data = new google.visualization.DataTable();
				        data.addColumn('string', 'Topping');
				        data.addColumn('number', 'Slices');
				        //var rows = 
				        var array = new Array();
				        var cats = jsondata.subcategories;
				        
				        jQuery.each(cats, function() {
				        	name = this.name;
				        	kursegesamt = parseInt(this.kursegesamt);
				        	var array = new Array(name, kursegesamt);
				        	console.log(array);
				        	//array.push(new Array(name, kursegesamt));
				        	data.addRow(array);
				        });
				        //console.log(array);
				        
				        //data.addRows(array);
				        /*
				        data.addRows([
				          ['Mushrooms', 3],
				          ['Onions', 1],
				          ['Olives', 1],
				          ['Zucchini', 1],
				          ['Pepperoni', 2]
				        ]);
						*/
				        // Set chart options
				        var options = {'title':'Semester',
				                       'width':800,
				                       'height':600};
				
				        // Instantiate and draw our chart, passing in some options.
				        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
				        chart.draw(data, options);
				      }
				    </script>
				    	<div id='chart_div'></div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3>Semester</h3>

					</div>
					<div class="panel-body"></div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3>Fachbereich</h3>
					</div>
					<div class="panel-body"></div>
				</div>
			</div>
		</div>
		<script></script>
	</body>
</html>